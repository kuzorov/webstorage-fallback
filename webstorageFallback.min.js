!function(){var t=function(){this.length=0,window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""))};if(t.prototype.storage={},t.prototype.dispatchStorageEvent=function(t,o){var e=t?this.getItem(t):null,n=location.href.substr(location.origin.length),i=document.createEvent("StorageEvent");i.initStorageEvent("storage",!1,!1,t,e,o,n,null),window.dispatchEvent(i)},t.prototype.key=function(t){var o=Object.keys(this.storage)[t];return"string"==typeof o?o:null},t.prototype.getItem=function(t){return"string"==typeof this.storage[t]?this.storage[t]:null},t.prototype.setItem=function(t,o){this.dispatchStorageEvent(t,o),this.storage[t]=String(o),this.calcLength()},t.prototype.removeItem=function(t){this.dispatchStorageEvent(t,null),delete this.storage[t],this.calcLength()},t.prototype.clear=function(){this.dispatchStorageEvent(null,null),this.storage={},this.calcLength()},t.prototype.calcLength=function(){var t,o=0;for(t in this.storage)this.storage.hasOwnProperty(t)&&o++;this.length=o},"object"==typeof window.localStorage)try{localStorage.setItem("webstorage-fallback-test",1),localStorage.removeItem("webstorage-fallback-test")}catch(o){window.localStorage=new t}else window.localStorage=new t;if("object"==typeof window.sessionStorage)try{sessionStorage.setItem("webstorage-fallback-test",1),sessionStorage.removeItem("webstorage-fallback-test")}catch(o){window.sessionStorage=new t}else window.sessionStorage=new t}();